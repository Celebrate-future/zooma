<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!-- Consider adding an manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"><!--<![endif]-->

<head>
    <meta charset="utf-8">

    <!-- Use the .htaccess and remove these lines to avoid edge case issues.
    More info: h5bp.com/b/378 --><!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> -->
    <!-- Not yet implemented -->

    <title>ZOOMA &lt; SPOT &lt; EMBL-EBI</title>
    <meta name="description" content="ZOOMA | Ontology Mapping and Annotation"/>
    <meta name="author" content="Tony Burdett"/>
    <meta name="keywords" content="ZOOMA, ZOOMA2, ZOOMA 2, ontology mapping, ontology annotation"/>

    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
    <link rel="shortcut icon" href="images/favicon.ico"/>

    <!-- CSS: implied media=all --><!-- CSS concatenated and minified via ant build script-->
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/boilerplate-style.css">
    <link rel="stylesheet"
          href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-global.css"
          type="text/css"
          media="screen">
    <link rel="stylesheet"
          href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-visual.css"
          type="text/css"
          media="screen">
    <link rel="stylesheet"
          href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/984-24-col-fluid.css"
          type="text/css"
          media="screen">
    <link rel="stylesheet" href="../css/zooma-ui.css" type="text/css" media="screen">

    <!-- you can replace this with [projectname]-colours.css. See http://frontier.ebi.ac.uk/web/style/colour for details of how to do this -->
    <!-- also inform ES so we can host your colour palette file -->
    <link rel="stylesheet"
          href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/embl-petrol-colours.css"
          type="text/css"
          media="screen">

    <!-- for production the above can be replaced with --><!--
    <link rel="stylesheet" href="http://www.ebi.ac.uk/web_guidelines/css/compliance/mini/ebi-fluid-embl.css">
    -->

    <style type=text/css>
            /* You have the option of setting a maximum width for your page, and making sure everything is centered */
        body {
            max-width: 1366px;
            margin: 0 auto;
        }
    </style>

    <!-- end CSS-->


    <!-- All JavaScript at the bottom, except for Modernizr / Respond.
    Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
    For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->

    <!-- Full build --><!-- <script src="../js/libs/modernizr.minified.2.1.6.js"></script> -->

    <!-- custom build (lacks most of the "advanced" HTML5 support -->
    <script src="//www.ebi.ac.uk/web_guidelines/js/libs/modernizr.custom.49274.js"></script>

</head>

<body class="level2" onload="$('#zooma_search').zooma({'service_url':'../'});">

<div id="skip-to">
    <ul>
        <li><a href="#content" title="">Skip to main content</a></li>
        <li><a href="#local-nav" title="">Skip to local navigation</a></li>
        <li><a href="#global-nav" title="">Skip to EBI global navigation menu</a></li>
        <li><a href="#global-nav-expanded" title="">Skip to expanded EBI global navigation menu (includes all
            sub-sections)</a></li>
    </ul>
</div>

< id="wrapper" class="container_24">
<header>
    <div id="global-masthead" class="masthead grid_24">
        <!--This has to be one line and no newline characters-->
        <a href="http://www.ebi.ac.uk/"
           title="Go to the EMBL-EBI homepage"><img src="//www.ebi.ac.uk/web_guidelines/images/logos/EMBL-EBI/EMBL_EBI_Logo_white.png"
                                                    alt="EMBL European Bioinformatics Institute"></a>

        <nav>
            <ul id="global-nav">
                <!-- set active class as appropriate -->
                <li class="first active" id="services"><a href="http://www.ebi.ac.uk/services">Services</a></li>
                <li id="research"><a href="http://www.ebi.ac.uk/research">Research</a></li>
                <li id="training"><a href="http://www.ebi.ac.uk/training">Training</a></li>
                <li id="industry"><a href="http://www.ebi.ac.uk/industry">Industry</a></li>
                <li id="about" class="last"><a href="http://www.ebi.ac.uk/about">About us</a></li>
            </ul>
        </nav>

    </div>

    <div id="local-masthead" class="masthead grid_24 nomenu">

        <!-- local-title -->
        <!-- NB: for additional title style patterns, see http://frontier.ebi.ac.uk/web/style/patterns -->

        <div class="grid_12 alpha" id="local-title">
            <h1><a href="../" title="">ZOOMA</a></h1>
        </div>
        <!-- /local-title -->

        <!-- local-nav -->
        <nav>
            <ul class="grid_24" id="local-nav">
                <li class="first">
                    <a href="../">Home</a>
                </li>
                <li>
                    <a href="../sparql">Explore</a>
                </li>
                <li class="active">
                    <a href="../docs">Help</a>
                </li>
                <li class="last">
                    <a href="../about.html">About ZOOMA</a>
                </li>
            </ul>
        </nav>
        <!-- /local-nav -->

    </div>
</header>
<div id="content" role="main" class="grid_24 clearfix">

    <b id="docs" class="grid_18 alpha">
        <h2>REST API Documentation</h2>
        <section>
        <h3>Introduction</h3>

        This page describes how to develop against the ZOOMA REST API to search for and retrieve ZOOMA objects.<br/>

        &lt;<span class="eg-var">zooma.api</span>&gt; refers to the URL of the zooma service you are
        querying - use <span style="font-family: monospace">http://www.ebi.ac.uk/spot/zooma/v2/api</span> to use the EBI zooma service.
        </section>

        <section>
        <h3>Annotation Summaries</h3>
        You can search for annotation summary objects in ZOOMA given a property value (and optionally a property type).

        <h4>Search Example:</h4>
        <span class="eg-description">To search for annotation summaries about "mus musculus"</span><br/>
        <!--<pre style="border: 1px solid #E2E1D5; padding: 10px; border-radius: 2px">&lt;<span style="font-style: italic;">zooma.api</span>&gt;/summaries/search?query=cancer</pre>-->
        <table>
            <thead>
            <tr>
                <th>method</th>
                <th>url</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>GET</td>
                <td>&lt;<span class="eg-var">zooma.api</span>&gt;/services/annotate?propertyValue=mus+musculus</td>
            </tr>
            </tbody>
        </table>
        <span class="eg-description">Response:</span><br/>
        <div class="eg-content">
[
    {
        uri: null,
        annotatedProperty: {
            uri: null,
            propertyValue: "mus musculus"
        },
        semanticTags: ["http://purl.obolibrary.org/obo/NCBITaxon_10090"],
        replacedBy: [ ],
        replaces: [ ],
        derivedFrom: {
            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907",
            annotatedProperty: {
                uri: "http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143",
                propertyType: "organism",
                propertyValue: "Mus musculus"
            },
            semanticTags: ["http://purl.obolibrary.org/obo/NCBITaxon_10090"],
            replacedBy: [ ],
            replaces: [ ],
            provenance: {
                source: {
                    type: "DATABASE",
                    name: "gxa",
                    uri: "http://www.ebi.ac.uk/gxa"
                },
                evidence: "ZOOMA_INFERRED_FROM_CURATED",
                accuracy: "NOT_SPECIFIED",
                generator: "ZOOMA",
                generatedDate: 1450439979000,
                annotator: "UNKNOWN",
                annotationDate: null
            },
            annotatedBiologicalEntities: [
                {
                    uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/636196CF38C074D81ED37DA4009E3133",
                    name: "ebi.ac.uk:Tab2MAGE:E-GEOD-1579.18.Extract",
                    types: [
                        "http://www.w3.org/2002/07/owl#NamedIndividual",
                        "http://rdf.ebi.ac.uk/terms/zooma/Target"
                    ],
                    studies: [
                        {
                            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/DA13D971C08AFD60E64ADFDEAE5CB7EA",
                            accession: "E-GEOD-1579",
                            types: [
                                "http://www.w3.org/2002/07/owl#NamedIndividual",
                                "http://rdf.ebi.ac.uk/terms/zooma/DatabaseEntrySource"
                            ]
                        }
                    ]
                }
            ]
        },
        confidence: "HIGH",
        provenance: {
            source: {
                type: "DATABASE",
                name: "zooma",
                uri: "http://www.ebi.ac.uk/spot/zooma"
            },
            evidence: "COMPUTED_FROM_TEXT_MATCH",
            accuracy: null,
            generator: "ZOOMA",
            generatedDate: 1452693184607,
            annotator: "ZOOMA",
            annotationDate: 1452693184607
        },
        annotatedBiologicalEntities: [ ]
    }
]
        </div>

        <p>
            This example shows that 'mus musculus' is associated to semantic tag http://purl.obolibrary.org/obo/NCBITaxon_10090.
            The confidence for this association is 'HIGH' and derives from the annotation summary with the following uri :<br>
            http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907.<br>
            This annotation summary links 'mus musculus' to http://purl.obolibrary.org/obo/NCBITaxon_10090 and comes from
            the 'gxa' database.
        </p>
        <p>To search a term specifying a property type, you would use the following url :

            <table>
                <thead>
                <tr>
                    <th>method</th>
                    <th>url</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>GET</td>
                    <td>&lt;<span class="eg-var">zooma.api</span>&gt;/services/annotate?propertyValue=mus+musculus&propertyType=organism</td>
                </tr>
                </tbody>
            </table>
            To get a list of all the property types do :
            <table>
                <thead>
                <tr>
                    <th>method</th>
                    <th>url</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>GET</td>
                    <td>&lt;<span class="eg-var">zooma.api</span>&gt;/properties/types?limit=10000</td>
                </tr>
                </tbody>
            </table>
        </p>
        <p>
            You can also add a filter to select the datasources zooma should use :
            <table>
                <thead>
                <tr>
                    <th>method</th>
                    <th>url</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>GET</td>
                    <td>&lt;<span class="eg-var">zooma.api</span>&gt;/services/annotate?propertyValue=mus+musculus&propertyType=organism&filter=required:%5Batlas,gxa%5Dpreferred:%5Batlas,gxa%5D</td>
                </tr>
                </tbody>
            </table>
            This filter tells Zooma to look for a semantic tag for 'mus musculus' using only atlas and gxa as
            datasources. The 'preferred' section of the url allows you to set on order of preferred datasources (going
            from the datasource you trust the most, to the one you trust less) and this will affect the score.<br>
            To know which filters you can use for the EBI Zooma, go to the Zooma main page (www.ebi.ac.uk/spot/zooma),
            the different datasources will be listed in the box on the top right hand side of the page.
            </p>

        </section>


        <section>
            <h3>Getting more information</h3>
            The first query shown on this page, allows you to annotate your given property with a semantic tag. However,
            you might be interested in getting more information about the annotation, the annotated
            property or the biological entity.

            <h4>More about the annotation </h4>
            In the first json represented on this page, the annotation starts with the 'derivedFrom' tag. If you want to
            get more information about the annotation object use its uri and do the following :
            <table>
                <thead>
                <tr>
                    <th>url</th>
                    <th>method</th>
                    <th>Content-Type</th>
                    <th>content</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>http://www.ebi.ac.uk/spot/zooma/v2/api/services/collapse</td>
                        <td>post</td>
                        <td>application/json</td>
                        <td>{"uri":"http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907"}</td>
                    </tr>
                </tbody>
            </table>
            <br>
            This will return the following json :
            <div class="eg-content">
{
    "fragment": "90E386B39F0AD3DA5CCBD8AAA6F14907"
    "namespace": "http://rdf.ebi.ac.uk/resource/zooma/gxa/"
    "uri": "http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907"
    "shortname": "gxaresource:90E386B39F0AD3DA5CCBD8AAA6F14907"
}
            </div>
            <br>
            Use the shortname to querry zooma, and because you're querying an annotationSummary add 'annotations' in the url : <br>
            http://www.ebi.ac.uk/spot/zooma/v2/api/<b>annotations</b>/<b>gxaresource:90E386B39F0AD3DA5CCBD8AAA6F14907</b>







            <h4>More about the derivedFrom annotatedProperty</h4>
            If you want to get more information about the derivedFrom annotatedProperty object use its uri and do
            the following :
            <table>
                <thead>
                    <tr>
                        <th>url</th>
                        <th>method</th>
                        <th>Content-Type</th>
                        <th>content</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>http://www.ebi.ac.uk/spot/zooma/v2/api/services/collapse</td>
                        <td>post</td>
                        <td>application/json</td>
                        <td>{"uri":"http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143"}</td>
                    </tr>
                </tbody>
            </table>
            <br>
            This will return the following json :
            <div> class="eg-content">
{
    "fragment": "461CE7ADFDA7E46E0AAEA17AC66AF143"
    "namespace": "http://rdf.ebi.ac.uk/resource/zooma/"
    "uri": "http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143"
    "shortname": "zoomaresource:461CE7ADFDA7E46E0AAEA17AC66AF143"
}
            </div>
            <br>
            Use the shortname to querry zooma, and because you're querying a property add 'properties' in the url : <br>
            http://www.ebi.ac.uk/spot/zooma/v2/api/<b>properties</b>/<b>zoomaresource:461CE7ADFDA7E46E0AAEA17AC66AF143</b>



            <h4>More about the derivedFrom annotatedBiologicalEntities</h4>
            If you want to get more information about the derivedFrom annotatedBiologicalEntities object use its uri and do
            the following :
            <table>
                <thead>
                <tr>
                <th>url</th>
                <th>method</th>
                <th>Content-Type</th>
                <th>content</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>http://www.ebi.ac.uk/spot/zooma/v2/api/services/collapse</td>
                    <td>post</td>
                    <td>application/json</td>
                    <td>{"uri":"http://rdf.ebi.ac.uk/resource/zooma/gxa/636196CF38C074D81ED37DA4009E3133"}</td>
                </tr>

                </tbody>
            </table>
            <br>
            This will return the following json :
            <div class="eg-content">
{
    "fragment": "636196CF38C074D81ED37DA4009E3133"
    "namespace": "http://rdf.ebi.ac.uk/resource/zooma/gxa/"
    "uri": "http://rdf.ebi.ac.uk/resource/zooma/gxa/636196CF38C074D81ED37DA4009E3133"
    "shortname": "gxaresource:636196CF38C074D81ED37DA4009E3133"
}
            </div>
            <br>
            Use the shorname to querry zooma, and because you're querying a biologicalEntity add biologicalEntities in the url:<br>
            http://www.ebi.ac.uk/spot/zooma/v2/api/<b>biologicalEntities</b>/<b>gxaresource:636196CF38C074D81ED37DA4009E3133</b><br>
        </section>

        <section>
        <h3>ZOOMA 2 jQuery Plugin</h3>

        <p>ZOOMA 2 is available as a jQuery plugin: <a href="../scripts/zooma.min.js">zooma.min.js</a>. Simply include
            this in your HTML to enable ZOOMA based searches.</p>

        <h4>Example:</h4>
        <span class="eg-description">To create a ZOOMA search input box:</span><br>

        <div class="eg-content">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;script type="text/javascript"
            src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"&gt;
    &lt;/script&gt;
    &lt;script type="text/javascript"
            src="http://www.ebi.ac.uk/spot/zooma/scripts/zooma.min.js"&gt;
    &lt;/script&gt;
&lt;/head&gt;
&lt;body onload="$('#zooma_search').zooma();"&gt;
    &lt;label for="zooma_search"&gt;Find Annotations:&lt;/label&gt;
    &lt;input type="text" id="zooma_search"/&gt;
&lt;/body&gt;
&lt;/html&gt;
        </div>
        <h4>Demo:</h4>
            <label for="zooma_search">Find Annotations:</label>
            <input type="text" id="zooma_search" name="zooma_search" />
        </section>


    <section class="grid_6 omega">
        <h3>Documentation</h3>
        <ul id="secondary-nav">
            <li class="first"><a href="./index.html">Home</a></li>
            <li><a href="./getting-started.html">Getting Started</a></li>
            <li class="active"><a href="./api.html">REST API Documentation</a></li>
            <li class="last"><a href="./developers.html">Developer Documentation</a></li>
        </ul>
    </section>
</b>
</div>


<footer>
    <!-- Optional local footer (insert citation / project-specific copyright / etc here --><!--
    <div id="local-footer" class="grid_24 clearfix">

    </div>
     --><!-- End optional local footer -->

    <div id="global-footer" class="grid_24 clearfix">

        <nav id="global-nav-expanded">

            <div class="grid_4 alpha">
                <h3 class="explore">Explore</h3>
            </div>

            <div class="grid_4">
                <h3 class="services"><a href="/services" title="Services">Services</a></h3>
            </div>

            <div class="grid_4">
                <h3 class="research"><a href="/research" title="Research">Research</a></h3>
            </div>

            <div class="grid_4">
                <h3 class="training"><a href="/training" title="Training">Training</a></h3>
            </div>

            <div class="grid_4">
                <h3 class="industry"><a href="/industry" title="Industry">Industry</a></h3>
            </div>

            <div class="grid_4 omega">
                <h3 class="about"><a href="/about" title="About us">About us</a></h3>
            </div>

        </nav>
        <script src="//www.ebi.ac.uk/web_guidelines/js/foot.js"></script>

    </div>

    <div class="grid_24">
        <section id="ebi-footer-meta">
            <p> &copy; EMBL-EBI European Bioinformatics Institute | <a href="#" title="">Privacy</a> | <a href="#"
                                                                                                          title="">Cookies</a>
                | <a href="#" title="">Terms of use</a></p>
        </section>
    </div>

</footer>
</div>
<!--! end of #wrapper -->


<!-- ZOOMA required JavaScript libraries, at the bottom for fast page loading -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

<script type="text/javascript" src="../webjars/zooma-js/2.0.0/zooma.min.js"></script>

<script type="text/javascript">var rootContextPath = "../"</script>
<script type="text/javascript" src="../scripts/zooma-login.js"></script>

<!-- Google analytics -->
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38623609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src =
                ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

</script>


<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
chromium.org/developers/how-tos/chrome-frame-getting-started --><!--[if lt IE 7 ]>
<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
<script>window.attachEvent('onload', function() {
    CFInstall.check({mode: 'overlay'})
})</script><![endif]-->

</body>
</html>
