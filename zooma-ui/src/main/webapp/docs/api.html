<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ZOOMA &lt; SPOT &lt; EMBL-EBI</title>
  <meta name="description" content="ZOOMA | Ontology Mapping and Annotation"/>
  <meta name="author" content="Tony Burdett"/>
  <meta name="keywords" content="ZOOMA, ZOOMA2, ZOOMA 2, ontology mapping, ontology annotation"/>
  <meta name="HandheldFriendly" content="true" />
  <meta name="MobileOptimized" content="width" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#70BDBD" /> <!-- Android Chrome mobile browser tab color -->
  <!-- Get suggested SEO and social metatags at:
       https://www.ebi.ac.uk/style-lab/websites/patterns/meta-copy.html -->

  <!-- Add information on the life cycle of this page -->
  <meta name="ebi:owner" content="John Doe" /> <!-- Who should be contacted about changes -->
  <meta name="ebi:review-cycle" content="30" /> <!-- In days, how often should the content be reviewed -->
  <meta name="ebi:last-review" content="2015-12-20" /> <!-- The last time the content was reviewed -->
  <meta name="ebi:expiry" content="2016-01-20" /> <!-- When this content is no longer relevant -->

  <!-- If you link to any other sites frequently, consider optimising performance with a DNS prefetch -->
  <link rel="dns-prefetch" href="//www.ebi.ac.uk" />

  <!-- If you have custom icon, replace these as appropriate.
       You can generate them at realfavicongenerator.net -->
  <link rel="icon" type="image/x-icon" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/favicon.ico" />
  <link rel="icon" type="image/png" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/android-chrome-192x192.png" /> <!-- Android (192px) -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/apple-icon-114x114.png" /> <!-- For iPhone 4 Retina display (114px) -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/apple-icon-72x72.png" /> <!-- For iPad (72px) -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/apple-icon-144x144.png" /> <!-- For iPad retinat (144px) -->
  <link rel="apple-touch-icon-precomposed" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/apple-icon-57x57.png" /> <!-- For iPhone (57px) -->
  <link rel="mask-icon" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/safari-pinned-tab.svg" color="#ffffff" /> <!-- Safari icon for pinned tab -->
  <meta name="msapplication-TileColor" content="#2b5797" /> <!-- MS Icons -->
  <meta name="msapplication-TileImage" content="//ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/images/logos/EMBL-EBI/favicons/mstile-144x144.png" />

  <!-- CSS: implied media=all -->
  <!-- CSS concatenated and minified via ant build script-->

    <link rel="stylesheet" href="css/zooma-ui.css" type="text/css" media="screen">
    <link rel="stylesheet" href="css/jquery.jscrollpane.css" type="text/css" media="screen"/>
    <link rel="stylesheet"
          href="//www.gstatic.com/freebase/suggest/3_1/suggest.min.css"
          type="text/css"
          media="screen"/>
    <link rel="stylesheet"
          href="//code.jquery.com/ui/1.8.18/themes/smoothness/jquery-ui.css"
          type="text/css"
          media="screen"/>

  <link rel="stylesheet" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/css/ebi-global.css" type="text/css" media="all" />
  <link rel="stylesheet" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Icon-fonts/v1.2/fonts.css" type="text/css" media="all" />

  <!-- Use this CSS file for any custom styling -->
  <!--
    <link rel="stylesheet" href="css/custom.css" type="text/css" media="all" />
  -->

  <!-- If you have a custom header image or colour -->
  <!--
  <meta name="ebi:masthead-color" content="#000" />
  <meta name="ebi:masthead-image" content="//www.ebi.ac.uk/web_guidelines/EBI-Framework/images/backgrounds/embl-ebi-background.jpg" />
  -->

  <!-- you can replace this with theme-[projectname].css. See http://www.ebi.ac.uk/web/style/colour for details of how to do this -->
  <!-- also inform ES so we can host your colour palette file -->
  <link rel="stylesheet" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/css/theme-embl-petrol.css" type="text/css" media="all" />
  <!-- end CSS-->
</head>





<body class="level2">

<div id="skip-to">
<a href="#content">Skip to main content</a>
</div>

<header id="masthead-black-bar" class="clearfix masthead-black-bar">
</header>
<div data-sticky-container>
    <header id="masthead" class="masthead" style="background-image: url('https://www.ebi.ac.uk/web_guidelines/EBI-Framework/v1.1/images/backgrounds/embl-ebi-background-4.jpg');" data-sticky data-sticky-on="large" data-top-anchor="content:top" data-btm-anchor="content:bottom">
      <div class="masthead-inner row">
        <!-- local-title -->
        <div class="columns medium-12" id="local-title">
          <h1><a href="../" title="Back to ZOOMA homepage"><img style="height: 100px;" src="../images/zooma_logo_new.png"/></a></h1>
        </div>
        <!-- /local-title -->
        <!-- local-nav -->
        <nav >
          <ul id="local-nav" class="dropdown menu float-left" data-description="navigational">
            <li><a href="../">Home</a></li>
            <li><a href="../">Explore</a></li>
            <li><a href="./">Help</a></li>
            <li><a href="./about.html">About ZOOMA</a></li>
          </ul>
        </nav>
        <!-- /local-nav -->
      </div>
    </header>
  </div>

    <div id="content" role="main">

        <div id="docs" class="row">
            <div class="columns medium-12">
            <h2>REST API Documentation</h2>

            <h3>Introduction</h3>

            <p>
                This page describes how to develop against the ZOOMA REST API to search for and retrieve ZOOMA
                objects.
            </p>

            <p>
                All requests should be made to the root URL of the Zooma API, which is not shown in the example
                requests. The root URL for the API is <pre>www.ebi.ac.uk/spot/zooma/v2/api</pre>
            </p>

            <h3>Predicting Annotations</h3>
            <p>
                You can use Zooma to predict an ontology annotation given a property value (and optionally a property
                type).
            </p>
            <h5>Example Request:</h5>
            <p>
                Predict an ontology annotation for the text value "mus musculus"
            </p>
            <!--<pre style="border: 1px solid #E2E1D5; padding: 10px; border-radius: 2px">&lt;<span style="font-style: italic;">zooma.api</span>&gt;/summaries/search?query=cancer</pre>-->
            <pre>GET /services/annotate?propertyValue=mus+musculus</pre>

            <h5>Response:</h5>
            <div class="eg-content">
[
    {
        uri: null,
        annotatedProperty: {
            uri: null,
            propertyValue: "mus musculus"
        },
        semanticTags: ["http://purl.obolibrary.org/obo/NCBITaxon_10090"],
        replacedBy: [ ],
        replaces: [ ],
        derivedFrom: {
            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907",
            annotatedProperty: {
                uri: "http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143",
                propertyType: "organism",
                propertyValue: "Mus musculus"
            },
            semanticTags: ["http://purl.obolibrary.org/obo/NCBITaxon_10090"],
            replacedBy: [ ],
            replaces: [ ],
            provenance: {
                source: {
                    type: "DATABASE",
                    name: "atlas",
                    uri: "http://www.ebi.ac.uk/gxa"
                },
                evidence: "ZOOMA_INFERRED_FROM_CURATED",
                accuracy: "NOT_SPECIFIED",
                generator: "ZOOMA",
                generatedDate: 1450439979000,
                annotator: "UNKNOWN",
                annotationDate: null
            },
            annotatedBiologicalEntities: [
                {
                    uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/636196CF38C074D81ED37DA4009E3133",
                    name: "ebi.ac.uk:Tab2MAGE:E-GEOD-1579.18.Extract",
                    types: [
                        "http://www.w3.org/2002/07/owl#NamedIndividual",
                        "http://rdf.ebi.ac.uk/terms/zooma/Target"
                    ],
                    studies: [
                        {
                            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/DA13D971C08AFD60E64ADFDEAE5CB7EA",
                            accession: "E-GEOD-1579",
                            types: [
                                "http://www.w3.org/2002/07/owl#NamedIndividual",
                                "http://rdf.ebi.ac.uk/terms/zooma/DatabaseEntrySource"
                            ]
                        }
                    ]
                }
            ]
        },
        confidence: "HIGH",
        provenance: {
            source: {
                type: "DATABASE",
                name: "zooma",
                uri: "www.ebi.ac.uk/spot/zooma"
            },
            evidence: "COMPUTED_FROM_TEXT_MATCH",
            accuracy: null,
            generator: "ZOOMA",
            generatedDate: 1452693184607,
            annotator: "ZOOMA",
            annotationDate: 1452693184607
        },
        annotatedBiologicalEntities: [ ]
    }
]
        </div>

            <p>
                This example predicts that 'mus musculus' should be annotated with the ontology term
                <span class="uri">http://purl.obolibrary.org/obo/NCBITaxon_10090</span>. The confidence for this prediction is 'HIGH', and
                derives from an existing annotation the URI <span class="uri">http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907</span>.
                This annotation was predicted based on curated mappings in the 'ExpressionAtlas (atlas)' database.
            </p>

            <h5>Additional Parameters:</h5>
            <p>Zooma supports the option to specify the data sources it will search from. By default (specifying nothing), Zooma will search its available databases containing curated mappings
                (and that do not include ontology sources), and if nothing is found it will look in the Ontology Lookup Service (OLS) to predict ontology annotations.
            </p>
            <p>
                A set of filters can be applied to modify the default behavior:
                <ul>
                        <li>required:[datasource1,datasource2,…]</li>
                        <li>preferred:[datasource2,datasource1,…]</li>
                        <li>ontologies:[efo,go,…]</li>
                </ul>

            <p>
                where datasource1,datasource2,etc, are the database names of the datasources (see table below).
            </p>

                <ul>
                    <li><i>required</i> will limit the search to the given datasources</li>
                    <li><i>preferred</i> will provide a ranking for those datasources</li>
                    <li>and <i>ontologies</i> will limit the OLS search to the given ontologies</li>
                </ul>
            </p>
            <p>If 'required:[none]' is specified, Zooma will search the OLS without looking into the datasources. If 'ontologies:[none]' is specified,
                Zooma will not search the OLS if the datasource search fails to make any predictions.
            </p>
            <p>
                In the table below you can see the available databases containing curated mappings in Zooma.<br>
                To define the source(s) you want Zooma to search in, use the <i>Database name</i> in the 'required:[]' field.<br>
                e.g. use 'required:[cttv]' to look into OpenTargets.
            </p>
            <pre>GET /services/annotate?propertyValue=disease&filter=required:[cttv]</pre>
            <table>
                <tr>
                    <th>Display name</th>
                    <th>Database name</th>
                    <th>Learn more about the database's origin</th>
                </tr>
                <tr>
                    <td>OpenTargets</td>
                    <td>cttv</td>
                    <td><a href="//www.targetvalidation.org" target="_blank">www.targetvalidation.org</a></td>
                </tr>
                <tr>
                    <td>ClinVar</td>
                    <td>eva-clinvar</td>
                    <td><a href="//www.ebi.ac.uk/eva" target="_blank">www.ebi.ac.uk/eva</a></td>
                </tr>
                <tr>
                    <td>CellularPhenoTypes</td>
                    <td>sysmicro</td>
                    <td><a href="//www.ebi.ac.uk/fg/sym" target="_blank">www.ebi.ac.uk/fg/sym</a></td>
                </tr>
                <tr>
                    <td>ExpressionAtlas</td>
                    <td>atlas</td>
                    <td><a href="//www.ebi.ac.uk/gxa" target="_blank">www.ebi.ac.uk/gxa</a></td>
                </tr>
                <tr>
                    <td>EBiSC</td>
                    <td>ebisc</td>
                    <td><a href="//cells.ebisc.org/" target="_blank">www.cells.ebisc.org</a></td>
                </tr>
                <tr>
                    <td>UniProt</td>
                    <td>uniprot</td>
                    <td><a href="//www.ebi.ac.uk/uniprot" target="_blank">www.ebi.ac.uk/uniprot</a></td>
                </tr>
                <tr>
                    <td>GWAS</td>
                    <td>gwas</td>
                    <td><a href="//www.ebi.ac.uk/gwas/" target="_blank">www.ebi.ac.uk/gwas</a></td>
                </tr>
                <tr>
                    <td>CBI</td>
                    <td>cbi</td>
                    <td><a href="//www.ebi.ac.uk/biosamples/" target="_blank">www.ebi.ac.uk/biosamples</a></td>
                </tr>
                <tr>
                    <td>ClinVarXRefs</td>
                    <td>clinvar-xrefs</td>
                    <td><a href="//www.ncbi.nlm.nih.gov/clinvar" target="_blank">www.ncbi.nlm.nih.gov/clinvar</a></td>
                </tr>
            </table>

            <p>
                Predict an ontology annotation for the text value "mus musculus" and type "organism"
            </p>
            <pre>GET /services/annotate?propertyValue=mus+musculus&propertyType=organism</pre>

            <p>
                Predict an ontology annotation for the text value "mus musculus" and type "organism" using annotations that are present in a defined list of datasources
            </p>
            <pre>GET /services/annotate?propertyValue=mus+musculus&propertyType=organism&filter=required:[atlas,gwas]</pre>

            <p>Predict an ontology annotation for the text value "ear inflorescence" using annotations that are present in a defined list of datasources</p>
            <pre>GET /services/annotate?propertyValue=ear+inflorescence&filter=required:[sysmicro],ontologies:[none]</pre>
            <p>The 'ontologies:[none]' parameter will restrain Zooma from looking in the OLS if no annotation was found.</p>

            <p>
                Predict an ontology annotation for the text value "lung adenocarcinoma" using annotations
                that are present in a defined list of datasources, and specify a preference ranking for these
                datasources.
            </p>
            <pre>GET /services/annotate?propertyValue=lung+adenocarcinoma&filter=required:[atlas,gwas],preferred:[gwas]</pre>
            <p>
                Here, the 'preferred' parameter allows you to set on order of preferred datasources
                (going from the datasource you trust the most, to the one you trust less) and this will affect the score.
            </p>

            <p>Predict an ontology annotation for the text value "mus musculus" and type "organism" using annotations that are present in a defined list of ontologies only</p>
            <pre>GET /services/annotate?propertyValue=mus+musculus&propertyType=organism&filter=required:[none],ontologies:[efo,mirnao]</pre>

            <h3>Resolving Resource URIs</h3>

            <p>
                Each resource in Zooma is given a URI as it's unique identifier.  The Zooma REST API takes compact URIs
                ("CURIEs") as it's parameters, so in order to lookup a resource you first need to convert a resource's
                URI to it's shortname.
            </p>

            <p>
                Zooma provides an API endpoint to do just this.  If we take an example property from our annotation above,
                with the URI <span class="uri">http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143</span>,
                we can collapse this to it's shortform as follows
            </p>

            <h5>Request</h5>
            <pre>
POST /services/collapse
    Content-Type: application/json
    {"uri":"http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907"}
            </pre>
            <h5>Response</h5>
            <div class="eg-content">
{
    "fragment":"90E386B39F0AD3DA5CCBD8AAA6F14907",
    "namespace":"http://rdf.ebi.ac.uk/resource/zooma/gxa/",
    "uri":"http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907",
    "shortname":"gxaresource:90E386B39F0AD3DA5CCBD8AAA6F14907"
}
            </div>

            <h3>Retrieving Resources</h3>

            <p>
                You can also use the Zooma API to fetch more information about each of the resource types in Zooma
                (which you may see in the above example when predicting annotations).  The following section describes
                how to retrieve more information about the key resource types.
            </p>

            <h4>Property Types</h4>

            <p>Retrieve all property types</p>
            <pre>GET /properties/types?limit=10</pre>

            <h5>Response</h5>
            <div class="eg-content">
[
    "rare genetic bone development disorder",
    "caenorhabditis elegans embryo stage",
    "genetic disorder",
    "abnormality of the integument",
    "hormone measurement",
    "chemical entity",
    "disease",
    "disposition",
    "cancer",
    "genetic congenital limb malformation"
]
            </div>

            <h4>Properties</h4>

            <p>Retrieve a property given it's shortname</p>
            <pre>GET /properties/zoomaresource:461CE7ADFDA7E46E0AAEA17AC66AF143</pre>

            <h5>Response</h5>
            <div class="eg-content">
{
    uri: "http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143",
    propertyType: "organism",
    propertyValue: "Mus musculus"
}
            </div>

            <h4>Annotations</h4>

            <p>
                The first query shown on this page, allows you to annotate your given property with a semantic tag.
                However, once you've retrieved an annotation prediction, you might be interested in getting more
                information about the annotation that prompted Zooma to predict your new mapping.  You can do this by
                using the "derivedFrom" relation and retrieving the annotation with the given ID.
            </p>

            <p>
                In the example above, we saw this:
            </p>

            <div class="eg-content">
        ...
        derivedFrom: {
            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907",
        ...
            </div>

            <p>We can shorten this as described in the section above, and then retrieve this annotation</p>

            <pre>GET /annotations/gxaresource:90E386B39F0AD3DA5CCBD8AAA6F14907</pre>

            <h5>Response</h5>
            <div class="eg-content">
{
    uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/90E386B39F0AD3DA5CCBD8AAA6F14907",
    annotatedProperty: {
        uri: "http://rdf.ebi.ac.uk/resource/zooma/461CE7ADFDA7E46E0AAEA17AC66AF143",
        propertyType: "organism",
        propertyValue: "Mus musculus"
    },
    semanticTags: [
        "http://purl.obolibrary.org/obo/NCBITaxon_10090"
    ],
    replacedBy: [ ],
    replaces: [ ],
    annotatedBiologicalEntities: [
        {
            uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/636196CF38C074D81ED37DA4009E3133",
            name: "ebi.ac.uk:Tab2MAGE:E-GEOD-1579.18.Extract",
            types: [
                "http://www.w3.org/2002/07/owl#NamedIndividual",
                "http://rdf.ebi.ac.uk/terms/zooma/Target"
            ],
            studies: [
                {
                    uri: "http://rdf.ebi.ac.uk/resource/zooma/gxa/DA13D971C08AFD60E64ADFDEAE5CB7EA",
                    accession: "E-GEOD-1579",
                    types: [
                        "http://www.w3.org/2002/07/owl#NamedIndividual",
                        "http://rdf.ebi.ac.uk/terms/zooma/DatabaseEntrySource"
                    ]
                }
            ]
        }
    ],
    provenance: {
        source: {
            type: "DATABASE",
            name: "atlas",
            uri: "http://www.ebi.ac.uk/gxa"
        },
        evidence: "ZOOMA_INFERRED_FROM_CURATED",
        accuracy: "NOT_SPECIFIED",
        generator: "ZOOMA",
        generatedDate: 1450439979000,
        annotator: "UNKNOWN",
        annotationDate: null
    }
}
            </div>


        <h3>Documentation</h3>
        <ul id="secondary-nav">
            <li class="first"><a href="./index.html">Home</a></li>
            <li><a href="./getting-started.html">Getting Started</a></li>
            <li class="active"><a href="./api.html">REST API Documentation</a></li>
            <li class="last"><a href="./developers.html">Developer Documentation</a></li>
        </ul>

    </div>

    </div>


    
    <footer>
        <div id="global-footer" class="global-footer">
            <nav id="global-nav-expanded" class="global-nav-expanded row">
                <!-- Footer will be automatically inserted by footer.js -->
            </nav>
            <section id="ebi-footer-meta" class="ebi-footer-meta row">
                <!-- Footer meta will be automatically inserted by footer.js -->
            </section>
        </div>
    </footer>
</div>
<!--! end of #wrapper -->


<!-- ZOOMA required JavaScript libraries, at the bottom for fast page loading -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script type="text/javascript" src="scripts/jquery.mousewheel.js"></script>
<script type="text/javascript" src="scripts/jquery.jscrollpane.min.js"></script>
<script type="text/javascript" src="scripts/jquery.sidebar.min.js"></script>

<script type="text/javascript" src="scripts/zooma-ui.js"></script>
<script type="text/javascript" src="scripts/jquery.autocomplete.min.js"></script>

<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

<footer>
    <div id="global-footer" class="global-footer">
        <nav id="global-nav-expanded" class="global-nav-expanded row">
            <!-- Footer will be automatically inserted by footer.js -->
        </nav>
        <section id="ebi-footer-meta" class="ebi-footer-meta row">
            <!-- Footer meta will be automatically inserted by footer.js -->
        </section>
    </div>
</footer>

<script defer="defer" src="//ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/js/script.js"></script>

<!-- The Foundation theme JavaScript -->
<script src="//ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/libraries/foundation-6/js/foundation.js"></script>
<script src="//ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/js/foundationExtendEBI.js"></script>
<script type="text/JavaScript">$(document).foundation();</script>
<script type="text/JavaScript">$(document).foundationExtendEBI();</script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, "script", "https://www.google-analytics.com/analytics.js", "ga");

    ga("create", "UA-38623609-1", "auto");
    ga("send", "pageview");
    ga("set", "anonymizeIp", true);

</script>
<!-- End Google Analytics -->
</body>

</html>